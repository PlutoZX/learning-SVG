<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="./css/pikaday.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <script src="https://at.alicdn.com/t/font_418465_5heb0clj4509t3xr.js"></script>
    <style type="text/css">
        h1 {
            display: inline-block;
            margin: 0 105px 0 0;
            font-size: 20px;
            line-height: 20px;
            color: #161616;
        }
        label {
            font-size: 12px;
            color: #9e9e9e;
            margin-right: 15px;
        }
        label.label2 {
            margin-left: 40px;
        }
        label.label3 {
            margin-left: 20px;
        }
        select {
            width: 160px;
            height: 30px;
            outline: none;
            background-color: #fff;
            border: 1px solid #e8e8e8;
        }
        input.startDatePicker, input.endDatePicker {
            box-sizing: border-box;
            width: 110px;
            height: 30px;
            margin: 0;
            padding: 0 0 0 10px;
            outline: none;
            background-color: #fff;
            border: 1px solid #e8e8e8;
            border-radius: 5px;
        }
        .iconfont {
            margin: 0 0 0 -30px;
            width: 1em; height: 1em;
            vertical-align: -0.15em;
            fill: currentColor;
            overflow: hidden;
        }
        .textsvg {
            margin: 0 0 0 20px;
            display: inline-block;
            width: 100px;
            height: 10px;
        }
        .queryButton {
            display: inline-block;
            width: 115px;
            height: 30px;
            margin: 0 0 0 15px;
            background-color: #e22319;
            font-size: 15px;
            color: #fff;
            text-align: center;
            line-height: 30px;
            border-radius: 5px;
        }
        .queryButton:hover {
            background-color: #E26057;
            cursor: pointer;
        }

    </style>
</head>
<body>
<h1>用户行为转化率分析H5</h1>

<label for="">商户号</label>
<select name="" id="">
    <option value="" selected>全部</option>
    <option value="">啦啦啦</option>
    <option value="">哈哈哈</option>
    <option value="">哈哈哈</option>
    <option value="">哈哈哈</option>
    <option value="">哈哈哈</option>
    <option value="">哈哈哈</option>
    <option value="">哈哈哈</option>
    <option value="">哈哈哈</option>
    <option value="">哈哈哈</option>
    <option value="">哈哈哈</option>
</select>

<label for="startDatePicker" class="label2">日期</label>
<input type="text" id="startDatePicker" class="startDatePicker">
<svg class="iconfont" aria-hidden="true">
    <use xlink:href="#icon-date" id="use_icondate"></use>
</svg>
<label for="endDatePicker" class="label3">至</label>
<input type="text" id="endDatePicker" class="endDatePicker">
<svg class="iconfont" aria-hidden="true">
    <use xlink:href="#icon-date" id="use_icondate"></use>
</svg>



<svg class="textsvg"><text x="0" y="9" fill="#54abf6" style="font-size: 10px">统计截止到昨日24点</text></svg>

<div class="queryButton">查询</div>

<svg
        xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink"
        width="1280"
        height="900"
        style="
            display: block;
            margin: 0 auto;"
>

    <!--定义矩形块-->
    <defs>
        <g id="rect_box">
            <rect width="145" height="50" x="0" y="0" fill="#f8f8f8" stroke="#e5e5e5" stroke-width="2"></rect>
            <text x="72.5" y="17" text-anchor="middle" style="font-size: 10px">创建订单</text>
            <text x="72.5" y="40" text-anchor="middle" style="font-size: 20px;font-weight: 600">40000</text>
        </g>
    </defs>

    <!--定义蓝色圆-->
    <defs>
        <g id="circle_blue">
            <circle cx="0" cy="0" r="30" fill="#67b2d3"></circle>
            <text x="0" y="-15" text-anchor="middle" fill="#fff" style="font-size: 10px;" >免登陆</text>
            <text x="0" y="0" text-anchor="middle" fill="#fff" style="font-size: 10px">跳转量</text>
            <text x="0" y="15" text-anchor="middle" fill="#fff" style="font-size: 10px">120</text>
        </g>
    </defs>
    <!--定义绿色圆-->
    <defs>
        <g id="circle_green">
            <circle cx="0" cy="0" r="30" fill="#77ba55"></circle>
            <text x="0" y="-15" text-anchor="middle" fill="#fff" style="font-size: 10px;">80%</text>
            <text x="0" y="0" text-anchor="middle" fill="#fff" style="font-size: 10px">(6400-120)</text>
            <text x="0" y="15" text-anchor="middle" fill="#fff" style="font-size: 10px">/8000</text>
        </g>
    </defs>
    <!--定义红色圆-->
    <defs>
        <g id="circle_red">
            <circle cx="0" cy="0" r="30" fill="#ef4236"></circle>
            <text x="0" y="-15" text-anchor="middle" fill="#fff" style="font-size: 10px;">订单</text>
            <text x="0" y="0" text-anchor="middle" fill="#fff" style="font-size: 10px">转化率</text>
            <text x="0" y="15" text-anchor="middle" fill="#fff" style="font-size: 10px">30%</text>
        </g>
    </defs>

    <!--定义绿色大箭头_下-->
    <defs>
        <g id="arrow_big1">
            <rect width="30" height="20" x="10" fill="#77ba55"></rect>
            <polygon points="0 20 50 20 25 35" fill="#77ba55"></polygon>
            <text x="25" y="20" text-anchor="middle" fill="#fff" style="font-size: 12px;">81%</text>
        </g>
    </defs>
    <!--定义绿色大箭头_左-->
    <defs>
        <g id="arrow_big2" transform="rotate(90 25 17.5)">
            <rect width="30" height="20" x="10" fill="#77ba55"></rect>
            <polygon points="0 20 50 20 25 35" fill="#77ba55"></polygon>
            <text x="25" y="20" text-anchor="middle" fill="#fff" transform="rotate(-90 24.32 18.25) translate(3 3)" style="font-size: 12px;">81%</text>
        </g>
    </defs>
    <!--定义绿色大箭头_右-->
    <defs>
        <g id="arrow_big3" transform="rotate(-90 25 17.5)">
            <rect width="30" height="20" x="10" fill="#77ba55"></rect>
            <polygon points="0 20 50 20 25 35" fill="#77ba55"></polygon>
            <text x="25" y="20" text-anchor="middle" fill="#fff" transform="rotate(90 24.32 18.25) translate(-2 1)" style="font-size: 12px;">81%</text>
        </g>
    </defs>
    <!--定义绿色大箭头_左下-->
    <defs>
        <g id="arrow_big4" transform="rotate(30 25 17.5)">
            <rect width="30" height="20" x="10" fill="#77ba55"></rect>
            <polygon points="0 20 50 20 25 35" fill="#77ba55"></polygon>
            <text x="25" y="20" text-anchor="middle" fill="#fff" transform="rotate(-30 24.32 18.25) translate(2 0)" style="font-size: 12px;">81%</text>
        </g>
    </defs>
    <!--定义绿色大箭头_右下-->
    <defs>
        <g id="arrow_big5" transform="rotate(-30 25 17.5)">
            <rect width="30" height="20" x="10" fill="#77ba55"></rect>
            <polygon points="0 20 50 20 25 35" fill="#77ba55"></polygon>
            <text x="25" y="20" text-anchor="middle" fill="#fff" transform="rotate(30 24.32 18.25) translate(0 0)" style="font-size: 12px;">81%</text>
        </g>
    </defs>

    <!--定义蓝色箭头线1-->
    <defs>
        <g id="blueline1">
            <path fill="#67b2d3" stroke="#67b2d3" stroke-width="1" d="M 0 5 H 100 A 15 15 0 0 1 115 15 V 375 H 110 L 117.5 385 125 375 H 120 V 15 A 20 20 0 0 0 100 0 H 0"></path>
        </g>
    </defs>
    <!--定义蓝色箭头线2-->
    <defs>
        <g id="blueline2">
            <path fill="#67b2d3" stroke="#67b2d3" stroke-width="1" d="M 0 5 H -100 A 15 15 0 0 0 -115 15 V 375 H -110 L -117.5 385 -125 375 H -120 V 15 A 20 20 0 0 1 -100 0 H 0"></path>
        </g>
    </defs>
    <!--定义绿色箭头线1-->
    <defs>
        <g id="greenline1">
            <path fill="#77ba55" stroke="#77ba55" stroke-width="1" d="M 0 5 H 65 A 15 15 0 0 1 80 20 V 80 H 75 L 82.5 90 89.5 80 H 85 V 20 A 20 20 0 0 0 65 0 H 0"></path>
        </g>
    </defs>
    <!--定义绿色箭头线2-->
    <defs>
        <g id="greenline2">
            <path fill="#77ba55" stroke="#77ba55" stroke-width="1" d="M 0 5 H -65 A 15 15 0 0 0 -80 20 V 80 H -75 L -82.5 90 -89.5 80 H -85 V 20 A 20 20 0 0 1 -65 0 H 0"></path>
        </g>
    </defs>
    <!--定义绿色箭头线3-->
    <defs>
        <g id="greenline3">
            <path fill="#77ba55" stroke="#77ba55" stroke-width="1" d="M 0 0 V 40 A 15 15 0 0 1 -15 55 H -415 V 50 L -420 57.5 -415 65 V 60 H -15 A 20 20 0 0 0 5 40 V 0"></path>
        </g>
    </defs>
    <!--定义绿色箭头线4-->
    <defs>
        <g id="greenline4">
            <path fill="#77ba55" stroke="#77ba55" stroke-width="1" d="M 0 0 V 40 A 20 20 0 0 0 20 60 H 110 V 65 L 115 57.5 110 50 V 55 H 20 A 15 15 0 0 1 5 40 V 0"></path>
        </g>
    </defs>
    <!--定义绿色无箭头线5-->
    <defs>
        <g id="greenline5">
            <path fill="#77ba55" stroke="#77ba55" stroke-width="1" d="M 0 0 V 140 A 20 20 0 0 0 20 160 H 180 V 155 H 20 A 15 15 0 0 1 5 140 V 0"></path>
        </g>
    </defs>
    <!--定义绿色无箭头线6-->
    <defs>
        <g id="greenline6">
            <path fill="#77ba55" stroke="#77ba55" stroke-width="1" d="M 0 0 V 40 A 20 20 0 0 0 20 60 H 180 V 55 H 20 A 15 15 0 0 1 5 40 V 0"></path>
        </g>
    </defs>
    <!--定义红色箭头线-->
    <defs>
        <g id="redline1">
            <path fill="#ef4236" stroke="#ef4236" stroke-width="1" d="M 0 5 H 10 A 15 15 0 0 1 25 20 V 335 A 15 15 0 0 1 10 350 H -70 A 20 20 0 0 0 -90 370 V 670 H -95 L -87.5 680 -81 670 H -85 V 370 A 15 15 0 0 1 -70 355 H 10 A 20 20 0 0 0 30 335 V 20 A 20 20 0 0 0 10 0 H 0"></path>
        </g>
    </defs>

    <!--定义组合分组-->
    <defs>
        <g id="big_group1">
            <use xlink:href="#rect_box" x="0" y="0"></use>
            <use xlink:href="#arrow_big1" x="52.5" y="55"></use>
            <use xlink:href="#rect_box" x="0" y="95"></use>
            <use xlink:href="#arrow_big1" x="52.5" y="150"></use>
            <use xlink:href="#rect_box" x="0" y="190"></use>
            <use xlink:href="#arrow_big1" x="52.5" y="245"></use>
            <use xlink:href="#rect_box" x="0" y="285"></use>
        </g>
    </defs>


    <!--绘图-->
    <use xlink:href="#big_group1" x="577.5" y="50"></use>

    <use xlink:href="#blueline1" x="737.5" y="60"></use>
    <use xlink:href="#circle_blue" x="855" y="220"></use>

    <use xlink:href="#blueline2" x="563.5" y="60"></use>
    <use xlink:href="#circle_blue" x="445" y="220"></use>

    <use xlink:href="#greenline1" x="735.5" y="355"></use>
    <use xlink:href="#circle_green" x="816.5" y="360"></use>

    <use xlink:href="#greenline2" x="563.5" y="355"></use>
    <use xlink:href="#circle_green" x="485" y="360"></use>

    <use xlink:href="#redline1" x="737.5" y="80"></use>
    <use xlink:href="#circle_red" x="650" y="630"></use>

    <use xlink:href="#rect_box" x="400" y="455"></use>

    <use xlink:href="#arrow_big2" x="0" y="0" transform="translate(350 463)"></use>

    <use xlink:href="#rect_box" x="208" y="455"></use>

    <!--左中-->
    <use xlink:href="#arrow_big1" x="255" y="520" ></use>
    <use xlink:href="#rect_box" x="208" y="570"></use>
    <use xlink:href="#greenline5" x="280" y="630"></use>

    <!--左左下-->
    <use xlink:href="#arrow_big4" x="0" y="0" transform="translate(160 520)"></use>
    <use xlink:href="#rect_box" x="50" y="570"></use>
    <use xlink:href="#arrow_big1" x="100" y="625" ></use>
    <use xlink:href="#rect_box" x="50" y="665"></use>
    <use xlink:href="#greenline6" x="120" y="730" ></use>

    <!--左右下-->
    <use xlink:href="#arrow_big5" x="0" y="0" transform="translate(350 520)"></use>
    <use xlink:href="#rect_box" x="365" y="570"></use>
    <use xlink:href="#arrow_big1" x="415" y="625" ></use>
    <use xlink:href="#rect_box" x="365" y="665"></use>
    <use xlink:href="#greenline4" x="435" y="730" ></use>

    <!--右-->
    <use xlink:href="#rect_box" x="750" y="455"></use>
    <use xlink:href="#arrow_big3" x="0" y="0" transform="translate(895 463)"></use>

    <use xlink:href="#rect_box" x="942" y="455"></use>
    <use xlink:href="#arrow_big3" x="0" y="0" transform="translate(1086 463)"></use>

    <use xlink:href="#rect_box" x="1132" y="455"></use>
    <use xlink:href="#arrow_big1" x="1180" y="520" ></use>
    <use xlink:href="#rect_box" x="1132" y="570"></use>
    <use xlink:href="#arrow_big1" x="1180" y="625" ></use>
    <use xlink:href="#rect_box" x="1132" y="665"></use>

    <use xlink:href="#greenline3" x="1200" y="730" ></use>

    <!--中-->
    <use xlink:href="#rect_box" x="577.5" y="770" id="tiaozhifuchenggong"></use>

</svg>


<script src="./js/moment.min.js"></script>
<script src="./js/pikaday.js"></script>
<script>
    // 需要查询的日期数据对象
    var queryDateObj = {
        startDate: '',
        endDate: ''
    };
    var updateStartDate = function(){
        startDatePicker.setStartRange(queryDateObj.startDate);
        endDatePicker.setStartRange(queryDateObj.startDate);
        endDatePicker.setMinDate(queryDateObj.startDate);
    };
    var updateEndDate = function() {
        startDatePicker.setEndRange(queryDateObj.endDate);
        startDatePicker.setMaxDate(queryDateObj.endDate);
        endDatePicker.setEndRange(queryDateObj.endDate);
    };

    // 日期选择器
    var startDatePicker = new Pikaday({
        field: document.getElementById('startDatePicker'),
        format: 'YYYY-MM-DD',
        position: 'top',
        firstDay: 1,
        numberOfMonths: 1,
        i18n: {
            previousMonth : '上个月',
            nextMonth     : '下个月',
            months        : ['一月','二月','三月','四月','五月','六月','七月','八月','九月','十月','十一月','十二月'],
            weekdays      : ['星期日','星期一','星期二','星期三','星期四','星期五','星期六'],
            weekdaysShort : ['周日','周一','周二','周三','周四','周五','周六']
        },
        onSelect: function(){
            queryDateObj.startDate = this.getDate();
            updateStartDate();
            console.log(queryDateObj);
        }
    });
    var endDatePicker = new Pikaday({
        field: document.getElementById('endDatePicker'),
        format: 'YYYY-MM-DD',
        position: 'top',
        firstDay: 1,
        numberOfMonths: 1,
        i18n: {
            previousMonth : '上个月',
            nextMonth     : '下个月',
            months        : ['一月','二月','三月','四月','五月','六月','七月','八月','九月','十月','十一月','十二月'],
            weekdays      : ['星期日','星期一','星期二','星期三','星期四','星期五','星期六'],
            weekdaysShort : ['周日','周一','周二','周三','周四','周五','周六']
        },
        onSelect: function(){
            queryDateObj.endDate = this.getDate();
            updateEndDate();
            console.log(queryDateObj);
        }
    });


    var _startDate = startDatePicker.getDate();
    var _endDate = endDatePicker.getDate();

    if (_startDate) {
        queryDateObj.startDate = _startDate;
        updateStartDate();
    }

    if (_endDate) {
        queryDateObj.endDate = _endDate;
        updateEndDate();
    }












    var DATAOBJ = {
        createOrder: {
            txt1: '创建订单',
            txt2: '40000'
        }
    };

    var SVG_NS = 'http://www.w3.org/2000/svg';
    var XLINK_NS = 'http://www.w3.org/1999/xlink';

    // 生成defs标签的函数
    function createDefs(group){
        var _defs = document.createElementNS(SVG_NS, 'defs');
        _defs.appendChild(group);
        return _defs;
    }

    // 生成use标签的函数
    function createUse(xid, x, y, transf){
        var _use = document.createElementNS(SVG_NS, 'use');
        _use.setAttributeNS(XLINK_NS, 'xlink:href', '#'+xid); // 注意这里是setAttributeNS
        _use.setAttribute('x', x);
        _use.setAttribute('y', y);
        _use.setAttribute('transform', transf);

        return _use;
    }

    // 生成SVG矩形框的函数
    function createRectBox(gid, txt1, txt2){
        var _g = document.createElementNS(SVG_NS, 'g');
        _g.setAttribute('id', gid);
        var _rect = document.createElementNS(SVG_NS, 'rect');
        _rect.setAttribute('width', '145');
        _rect.setAttribute('height', '50');
        _rect.setAttribute('x', '0');
        _rect.setAttribute('y', '0');
        _rect.setAttribute('fill', '#f8f8f8');
        _rect.setAttribute('stroke', '#e5e5e5');
        _rect.setAttribute('stroke-width', '2');
        var _text1 = document.createElementNS(SVG_NS, 'text');
        _text1.setAttribute('x', '72.5');
        _text1.setAttribute('y', '17');
        _text1.setAttribute('text-anchor', 'middle');
        _text1.setAttribute('style', 'font-size: 10px');
        _text1.textContent = txt1;
        var _text2 = document.createElementNS(SVG_NS, 'text');
        _text2.setAttribute('x', '72.5');
        _text2.setAttribute('y', '40');
        _text2.setAttribute('text-anchor', 'middle');
        _text2.setAttribute('style', 'font-size: 20px;font-weight: 600');
        _text2.textContent = txt2;

        _g.appendChild(_rect);
        _g.appendChild(_text1);
        _g.appendChild(_text2);

        return _g;
    }


//    document.querySelector('svg').appendChild(createDefs(createRectBox('createOrder', DATAOBJ.createOrder.txt1, DATAOBJ.createOrder.txt2)));
//    document.querySelector('svg').appendChild(createUse('createOrder', 0, 0, 'translate(577.5,0)'));
</script>
</body>
</html>